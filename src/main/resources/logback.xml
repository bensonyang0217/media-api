<configuration>
    <property name="APID" value="SDKPOC01UT"/>
    <property name="SERVICE_ID" value="ApiTemplate"/>
    <property name="EVENT_SOURCE_HOST_NAME" value="${images-url}"/>
    <property name="EVENT_SOURCE_IP" value="${images-url}"/>
    <property name="MC_SMC_ALIAS" value="${images-url}"/>
    <property name="MC_PARAMETER" value="${images-url}"/>
    <property name="MC_OBJECT" value="${images-url}"/>
    <property name="MC_OBJECT_OWNER" value="${images-url}"/>
    <property name="MC_OBJECT_CLASS" value="${images-url}"/>
    <property name="MC_OBJECT" value="${images-url}"/>
    <property name="CUB_NOTIFY_MAIL" value="${images-url}"/>

    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LogstashEncoder"/>
    </appender>

    <appender name="CUSTOM" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
            <providers>
                <pattern>
                    <pattern>
                        {
                        "TraceId": "6e0026fcc43abcbd7f09bc343c5e5bd6",
                        "SystemTime": "%d{yyyy-MM-dd HH:mm:ss}",
                        "Level": "%level",
                        "APID": "${APID}",
                        "ServiceID": "${SERVICE_ID}",
                        "AlertLog": {
                        "Message": "%X{mailMessage}",
                        "TrueSight": {
                        "eventSourceHostName": "${EVENT_SOURCE_HOST_NAME}",
                        "eventSourceIPAddress": "${EVENT_SOURCE_IP}",
                        "attributes": {
                        "CLASS": "CUB_AP_NOTIFY",
                        "severity": "%level",
                        "msg": "%msg",
                        "mc_smc_alias": "${MC_SMC_ALIAS}",
                        "mc_parameter": "${MC_PARAMETER}",
                        "mc_object": "${MC_OBJECT}",
                        "mc_object_owner": "${MC_OBJECT_OWNER}",
                        "mc_object_class": "${MC_OBJECT_CLASS}",
                        "cub_notify_mail": "${CUB_NOTIFY_MAIL}",
                        "$type": "TrueSightAttribute"
                        },
                        "$type": "TrueSightParam"
                        },
                        "CTeam": {
                        "MwHeader": {
                        "MsgId": "CNA-C-CTMSGPUBO001",
                        "Source": "SDKPOC01UT",
                        "TxnSeq": "3680a371-104a-415a-9ab9-911cfc0b9b18",
                        "$type": "MwHeader"
                        },
                        "TranRq": {
                        "Account": "va_851a6b1d164b4f3abf",
                        "ApiKey": "d5e4b041-feaa-46d8-aaa9-5f488d8e9618",
                        "TeamSn": "123",
                        "ContentType": "1",
                        "Subject": "[CRITICAL] Hello:001",
                        "TextContent": "錯誤訊息內容",
                        "$type": "TranRq"
                        },
                        "$type": "CTeamParam"
                        },
                        "$type": "CriticalLog"
                        }
                        }
                    </pattern>
                </pattern>
            </providers>
        </encoder>
    </appender>
    <root level="WARN">
        <appender-ref ref="CUSTOM"/>
    </root>

    <!--  <logger name="CustomLogger" level="info" additivity="false">-->
    <!--    <appender-ref ref="CUSTOM" />-->
    <!--  </logger>-->

</configuration>
